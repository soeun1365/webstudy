<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	/* 
		내부함수
		1. function 내부에 포함된 function을 의미한다.
		2. function 내부에서만 호출할 수 있다.
		3. 내부함수를 외부로 반환할 수 있다.
		
		// 삼각형 넓이를 반환하는 getTriangleArea 함수
		// 1. 내부함수: 너비 * 높이
		// 2. 외부함수: 내부 함수의 반환 결과를  2로 나눈 결과를 반환
	*/
	function getTriangleArea(width, height){
			function multiplication(a, b){
				a || (a==1);
				b || (b==1);
				return a * b ;
			}
			return multiplication(width, height) / 2;
		}
	//외부에서는 내부 함수를 호출 할 수 없다.
	//a = multiplication(1, 2);
	//console.log(a);	오류뜸
	
	var area = getTriangleArea(3, 5);
	console.log(area);						//7.5
	
	//원의넓이를 반환하는 getCircleArea() 함수 구현
	//1. 내부함수 : r의 제곱을 반환하는 함수
	//2. 외부함수 : 원의 넓이를 반환하는 함수
	function getCircleArea(r){
		function multiplication(a){
			a || (a==1)
			return a * a;
		}return multiplication(r) * Math.PI;
	}
	var area2 = getCircleArea(1);
	console.log(area2);						//3.141592653589793
	
	//내부함수를 외부로 반환 할 수 있다.
	function outer(){
		function inner(){
			console.log('이름: 브레드, 나이: 10살');
		}
		return inner;	//내부 선언적 함수 자체를 반환
	}
	 var f = outer();
	 f();			//f에는 inner() 함수가 저장되어있으므로 함수 호출()로 처리
	 				//console.log(f);로 처리 하지 않는다. f에 inner()가 있으므로 함수실행처럼 해야함
	 outer()();		//f();와 같은 의미임 위에 f = outer()라고 했으니
	 
	 //익명함수도 외부로 반환 할 수 있다.
	 function outer2(){
		 return function(){
			 console.log('안녕');
		 };
	 }
	 
	 outer2()();
	 
	 
	 //내부함수를 외부로 반환 할 때는
	 //내부함수의 변수값이 외부에서도 유지된다.(스코프가 이상하다!)
	 
	 /* 
	 
	 function f(){
		 var a = 10;	//변수a는 f()f를 벗어나면 접근 할 수 없다.
	 }
	 alert(a);	//불가능
	 
	 */
	 //함수 내부의 변수를 외부에서도 접근 할 수 있도록
	 //변수를 내부함수에 담아서 내부함수를 리턴한다.
	 function outer3(){
		 function inner3(){
			 var a = 10;
			 console.log('inner3의 a: ' + a);
		 }
		 return inner3;
	 }
	 outer3()();
	 
	 //클로저(closure)
	 //내부 함수를 반환받는 영역에서 내부 함수의 변수값을 접근 할 수 있음을 의미한다.
	 function outer4(){
		 var a = 10;
		 function inner4(){
			 var b = 20;
			 console.log(b);
		 }
		 return inner4;
	 }
	 
	 //console.log(a);		    안됨
	 outer4()();			//됨
</script>
</head>
<body>

</body>
</html>